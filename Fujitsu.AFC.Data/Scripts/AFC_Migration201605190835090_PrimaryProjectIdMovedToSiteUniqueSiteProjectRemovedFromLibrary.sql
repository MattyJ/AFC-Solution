IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_SiteIdProjectId' AND object_id = object_id(N'[dbo].[Library]', N'U'))
    DROP INDEX [IX_SiteIdProjectId] ON [dbo].[Library]
ALTER TABLE [dbo].[Site] ADD [PrimaryProjectId] [int]
CREATE INDEX [IX_SiteId] ON [dbo].[Library]([SiteId])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Library')
AND col_name(parent_object_id, parent_column_id) = 'IsPrimaryCase';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Library] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Library] DROP COLUMN [IsPrimaryCase]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201605190835090_PrimaryProjectIdMovedToSiteUniqueSiteProjectRemovedFromLibrary', N'Fujitsu.AFC.Data.Migrations.AFC.Configuration',  0x1F8B0800000000000400ED5DDB6EE3B819BE2FD0771074D516B37192418B36B077917126DDA09949304E16BD1B3012E3E1AE2C79754863147DB25EF491FA0A2575E4491429C97292120BCCC6A4F8F1F4FF1F7F1EFFFFFEFB3FF31F9E3781F304E30445E1C23D393A761D187A918FC2F5C2CDD2C7EFFEECFEF0FD6F7F33FFE86F9E9D9FAAEFDE93EF70CA3059B8DFD2747B369B25DE37B801C9D106797194448FE991176D66C08F66A7C7C77F999D9CCC2086703196E3CCBF64618A3630FF817F2EA3D083DB3403C1A7C887415286E398558EEA7C061B986C810717EE65F6334A93ECE8FC7279740152E03AE70102B81C2B183CBA0E08C32805292EE5D97D0257691C85EBD5160780E06EB785F8BB471024B02CFD59F3B96E458E4F4945664DC20ACACB9234DA18029EBC2F5B66C627EFD5BE6EDD72B8ED3EE2364E77A4D679FB2DDC6BF4108378E73A7C5E67CB2026DFB1AD9BF7C55199E89D2344BDABE5018B0DF9EF9DB3CC82348BE12284591A03FCC56DF61020EF6F707717FD02C3459805015D465C4A1CC704E0A0DB38DAC238DD7D818F65C9AF7CD799B1E9667CC23A1995A6A8D45598BE3F759DCF3873F010C05A04A80658A5510CFF0A43188314FAB7204D611C120C9837A2903B97D70AA5B03B3F35C612248331EE501AC00A020B3FD662D7F9049EAF61B84EBF2D5CFCA7EB5CA267E8572125EC7D88B0D2E344699C75E6827FFE0CBD746861AF514261FC3543BE31C455B20CA204D6201FA228802034C6B98F83BDB7DA5598E05FD0C7A4557711F9FB0E13A179C54BB00F3B45B94FFE78AC556ED3C6DAFA60AC7A94589354E3337842EB5CDD25DAEB3A5F60904726DFD0B6184D2AEEFB5A7C7019479B2F51D010691EFE751565B1475A229244DE81780D53B628F359C3CC4ABE2EB235216B92C232F5A1357D221646E130FEC53F9F10910AE88F317E7D8109AEAA873B051B5EF15046BE8DD1066B51DB5063A9F675522D277352D6CD8953F8B0615F59BCC0C2D28F06B1B150221362E6125B8E565B75E741107924ED501A21FF2AE4FDFD9FF6A2B5138C319C402DA320C03C897F0FA571CB9DAF843B9B2E97B228CF7D8AD40DB56A2712F8563FE598244CD762001D3730969807B0A9A60258FE79B9FCA3AF8820C6FF4F89A16FA4785532AB68FB57344321FB0904D918D356C36C2F60E2C5685B90786BE6A7FBA9B3659B57C1363F224C31F1EE3A5A9BD14D93CEF28D72C50A24BF0C9D387C7CC2791180BDCF7DF29C2E600AD0FEE759CB68B30DE0589A255D67EBA86CE281403A1556A7FB11847ED0ACC34D368A1C64E8BA8CE1AF190C3D1563ED69F8129761FB6D9E69A5EA68DC93E3312C70E94664B75C77AD7A8F57B86972BA40F98C30DF30DFF7D660522E771BEAF8328B634C85FD44EA33FC47BF8464B9C054EAEF22D31465DD7A0823AE588F54D6126CC77A419620B154CC6C4092C25A7F036C9C2E6D7B4EC9292D3F0BFA01F4B089AC6D636D1B6BDB58DB46414AD6B6B1B6CDABB36D7035E2EBC8333570AA64D6CA51E5455A08FA587A53107AB5F8F43A765A400D3E8035C6AA9B55ED43AAB66ABBBE98A94876E66B7DFD5A7CD26CBFB331C21E3B176DB2917E9E249187F292C877D215E703D8FA7E0C7DA7F76181A23324C71370D7605A425B4C44B8F40BF70F423BF7C9B76AA1F67CE903046C094E5C9EF26EC20B48A649CEB957DCEFC023B1077C5124701FF86C08664948467C0482259605CCBB284C454A45A187B620E85B4F0E5093A54981EBACF9980BB8852121D8BE7DAE5326E55926B1B07599B856EF6AE4F98CD202B572488F20B6C9A3FA3C62237AA672AE3CC2A8AF4A871764554526905955FFF410CF830925731BA14D68E457131A61A9EF80E9CBA1F44243875C1F5EE864A59E40D864EDAF93ED41258BB348DA04A1CD3C6944819AC1E8CB578B5943C3E676D24B933079B9279031793FE8645CCD382690B2C20EC569529C02C66501F0C4945CDA25C1F03995CC73EF13584E7593D202E7C586C0AE60CA90228289EB34962FCF7582E8B11844F764E90B62EB48CC8D0E321C618036836CEC210D70DAA0EDCAA63A8B27856DCEF775C010996ACED9C8B0E8D33B1A6032888201BA12577A214568A88983A104B8B50F54C7A7A9F4C667AF793D1C32BBAA9B43269482C60F994FB5E7C4C82A4FBB6C436B7482FC2690D8DEDDE6BABEC14ED5ADBBE99426BA417FF4681BF66EAAD826EDD662B7BD48959CE257453B484DC4AE96EC51697EE944ACB6CA94D13166A842D374A2A87B8BF9420315A4A65DFB6A11A71E3CEBB8F9AC7810A30C98CF5A5ECE987F02DB2D0AD7D44B1A6588B32A9ED1587EB7327F61625360CCBC44F2D0445DDA3A274CFA600DB958B2DDECC34B142729B1041E0059535BFA1BE133CE5468A1FE2A33DE1A10FBAB1A0FAA14E4EF72D3877B52A4361C4493AA4C7C892BB6210659BE262DA88B24A543DE32010188252BE09834B34DD86E1AB6A7AE660D3442DB4CA21DA5DA51A251AA307D9472E792062983F431A84D3B1A870AD6C7AA9E97A081AA307D94E68509A697EA507DA4FC56200D920718948459E9674AC3C4982392757219DE07C17456D68F5EC067EA494718E3F185A38245ACF98C5350619E23F08030356489458B768AE16D10E5C886690DBE9127DB0FD90C15E0510882ECB931D48084898E32BDB896C7114DD7525F3B36FF00020DCCC79994987F08812D301F6B09E50D108A305F18C42D1D33230D9AE944D80FE3300F01B0E32F15A18F571C31A3818A90E93850B9D5A56022F59E98A205AD8EBF121DA7574EC6D4F6F6C52673BD5761ED8701866BACD58097AB01CD02F43089AFD7AA7B48787BDA972AD1E53D6D1AA20CD2C7602E5DD3484C84D5B237A065FCFECC2055A3B672CC754D95783FCA56ED773273CE963DD07614EA66330D44051B6255779705B42AC260ED8EBDBBC32CE1B15153AF2A521797997A36C1FA58F5851F1AA90E9C927CA9DB38340C153CE962C668ABA5B7F4251C099A693B8DB3A64CDDBDE185D178E988BA5DC317CA188BBE3FC38C9E54B8C934B7BE22C34E72EB60835A0AD76698CA0AB106BAC3DCA96174888931D1A5F2B20DAB4965A001CB47024A1964DC6E52B165A38C5A4C8647055B03EB8D185803CD2AD95EB58641254FB61F536A1F8686E4EE30AB2842F4D4468C353CACE1610D0FAD5A5AC3C31A1E4688D6F0E0E34D0D8FE680DA30EBA33E1ADBC304694FBB1F3B84BFC6CB1CEFE1E24C51056DA682A75E74B27A7760BD134E61F29FD4B99721F5EFFA14667902B2DBA9997024B2F8C475F20D389F1C875CED92146ECAC342BF06CB00E1FA361F7C02217A84495ADCE1774F8F4F4E39CF682FC74BD92C49FC407282947A0A417A8E728A77081069D4CE9706063DFB9867215C7CB90A7DF8BC70FF99273973AEFEFEB548F5CEB98971FF9E39C7CEBF06FA14EBC8F82AB90F119E4C9C397771067BE4C6BC5D133E81D8FB06E2DF6DC0F3EF69A85E1EC6F2A20FF22F96E5754379173E22327B1BE86BEC01991789F20C31A87D64AF3E109E4CC779F5A12A9BF860C2F0471D7A175378D4A16729CDDC6FBD0D021A4BEE46D4F0E6F1947DD3D2AD78A8D38C880580419C2CF793D5874DDA7C6471646909E58510CAADEA14E5ABE51689B7A63EC25CACF3293A82F86A3A10EDDDAA0E630EE2121A6A10AB58059E5E81DB8E43BE5A5596EBA0C9D0CCBD866A07A19727C3F2038F5666459935F79AD33ACAF4F584239586D31EC5B4BA35816EB51D707CB5CAC5BE50D9671146F00A33C81093787E1984277DF9BCB7BC49669786D5E37DBD7086B40E06F736BA54E47BE865A779DE035378D97C187DF24B0AE32E391A6074B655FE88B7A1A48A2BB96600C233E663966C2FC0E223E5C3D64CF987C87B2857DBA3E43DFA43F644790F18EEC1F21E08CCF3E53DD24B1F33EFD7208331AC95338195237923F0B5DA37DAE3BF9E00B77842E90B38D89EB0B680B505DA04CBDA02D616B0B680B505C67259F2360C02B99390C167470487217D9652248B311A1B4E452ABBB7F4C2346902871CF41BB5451D0EE801A3B594C3BC828CE15843F9428A0E6B39033C68FC3F38C818D0E37B9241A118D349DB541E2FDE9E6B0BAD4EDB93C0D44FC953D96BBBD2E8ED34654287156FC74945FE3034D54D7B771E21790ABAAF538C7E7E28E49787479714D5352131B383BB9A109F99E6BB4DE64962A7F22351DCCAC056E543847BB8B0F94C9C4CB4FA989001F77115A1E37C429697F09159B6B40DD95500FA5B8DA22C7BF8B350BBB39066AAEDED82F66521E44247CAB2317484D1EA0743866DE62143ED20438AFFBAFD678822DAF1C0A1485C0A8356F154AA307EBC142F18032A2131CBF837A987577B2407175AC593DB7A54A236963FAC0B0B8A239AF740545513F49FBBC3AB5F3D031F15E22D483CD667215996297E5DC004AD1B8839C60C0B2D6C40AB6FAEC2C7A83236B812559F702B399F600A7C6C029CC7297A041E59B0F76092E4FE60F3C37B0BF7E3E6812CFADD64E9364B7195E1E62160FA9A182DAAFC73471C6C99E737F941BE648C2AE06222B21C75137EC850E0D7E5BE94AC37B540106BA85C27257D9992F5D2F5AE46FA8C555D0FA86CBEDA88BB839B2D39B394DC842BF004FB94ED3E81D7700DBCDD6D7999B51DA4BB23D8669F5F20B0C6637B526234E9F14F2CC3FEE6F9FBFF01F2B1F3AA07A90000 , N'6.1.3-40302')

